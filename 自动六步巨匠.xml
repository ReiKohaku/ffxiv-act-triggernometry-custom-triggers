<?xml version="1.0"?>
<TriggernometryExport Version="1">
  <ExportedFolder Id="e61366d6-a3f7-4d56-bc27-c0c462480459" Name="自动六步巨匠" Enabled="true">
    <Folders />
    <Triggers>
      <Trigger Enabled="true" Sequential="True" Name="开始" Id="ad2b5255-8a04-4ff5-b070-3ccd2d59b39b" RegularExpression="^.{14} 00:0842:(.*?)开始(练习)?制作“?.{1}(巨匠药水)”?">
        <Actions>
          <Action OrderNumber="1" LogLevel="-1" MouseX="" MouseY="" VariableOp="SetString" VariableName="craft_player_name" VariableExpression="$1" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="2" LogLevel="-1" MouseX="" MouseY="" VariableOp="SetString" VariableName="crafting" VariableExpression="六步巨匠" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="3" JsonEndpointExpression="http://127.0.0.1:52022/command" JsonPayloadExpression="/echo 开始执行${var:crafting}宏！" LogLevel="-1" MouseX="" MouseY="" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="GenericJson">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="4" LogLevel="-1" MouseX="" MouseY="" VariableOp="SetString" VariableName="craft_step_original" VariableExpression="闲静,坯料加工,坯料加工,比尔格的祝福,崇敬,坯料制作" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="5" ListVariableOp="Split" ListVariableName="craft_step_original" ListVariableExpression="," ListVariableTarget="craft_step_list" LogLevel="-1" MouseX="" MouseY="" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="ListVariable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="6" LogLevel="-1" MouseX="" MouseY="" VariableOp="SetNumeric" VariableName="craft_step" VariableExpression="1" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="7" JsonEndpointExpression="http://127.0.0.1:52022/command" JsonPayloadExpression="/ac ${lvar:craft_step_list[${var:craft_step}]}" LogLevel="-1" MouseX="" MouseY="" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="GenericJson" ExecutionDelayExpression="500">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
        </Actions>
        <Condition Enabled="false" Grouping="Or" />
        <Conditions />
      </Trigger>
      <Trigger Enabled="true" Name="步骤" Id="83621d0a-e20d-4cb6-b631-fc063d0bf396" RegularExpression="^.{14} 00:0842:(?&lt;craft_player_name&gt;.*?)(发动“(.*?)”|的(.*?))">
        <Actions>
          <Action OrderNumber="1" LogLevel="-1" MouseX="" MouseY="" VariableOp="SetNumeric" VariableName="craft_step" VariableExpression="${var:craft_step}+1" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="false" Grouping="Or" />
            <Conditions />
          </Action>
          <Action OrderNumber="2" JsonEndpointExpression="http://127.0.0.1:52022/command" JsonPayloadExpression="/ac ${lvar:craft_step_list[${var:craft_step}]}" LogLevel="-1" MouseX="" MouseY="" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="GenericJson" ExecutionDelayExpression="500">
            <Condition Enabled="false" Grouping="And" />
            <Conditions />
          </Action>
          <Action OrderNumber="3" JsonEndpointExpression="http://127.0.0.1:52022" JsonPayloadExpression="/ac 坯料制作" LogLevel="-1" MouseX="" MouseY="" VariableName="crafting" TextAuraFontSize="9" TextAuraFontName="宋体" ActionType="Variable">
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${var:craft_step}" ExpressionTypeL="Numeric" ExpressionR="${lvar:craft_step_list.size}" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
            </Condition>
            <Conditions />
          </Action>
        </Actions>
        <Condition Enabled="true" Grouping="And">
          <ConditionSingle Enabled="true" ExpressionL="${var:craft_step}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
          <ConditionSingle Enabled="true" ExpressionL="${var:crafting}" ExpressionTypeL="String" ExpressionR="六步巨匠" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
        </Condition>
        <Conditions />
      </Trigger>
    </Triggers>
  </ExportedFolder>
</TriggernometryExport>
